# ddnsbot

#### 介绍

DDNS动态解析,阿里云的DDNS和mirai机器人的结合,定时器每一小时检测一次,机器人用于手动检测操作

#### 软件架构

springboot

jsoup

mirai

#### 参与贡献

感谢mirai提供的开源项目

#### 目前获取公网IP的思路

第一步:首先会访问公共api接口,直接获取公网IP,这样的接口收集了7个,有运营商接口,有个人提供的接口

第二步:如果第一步没有获取到IP,会访问显示公网IP的网页,从网页中截取公网IP,这样的网站收集了3个,应该都是运营商的网站

第三步:如果第二步没有获取到IP,会访问光猫后台管理系统,通过爬虫登录,爬取网关信息界面的WAN IP内容,也就是公网IP

第三步的耗时是最久的,大概在1800ms左右,但是最稳定,所以放在了第三步.第一步和第二步耗时都在240ms左右,有10个网站保底,稳定性也可以

再往后如果一二步的网站崩了很多的话,我会再找很多提供公网IP的网站

如果不想用QQ机器人的话,可以在配置类中把startStatus的值改成0,或者也可以把项目里的获取公网IP的类单拿出来放到自己项目里# ddnsbot
